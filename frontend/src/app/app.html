<app-toolbar/>

<main class="content">
  <app-headline [addProductButtonDisabled]="loading()" (addProduct)="openAddProductDialog()"/>
  <app-add-product-dialog [visible]="showAddProductDialog"/>

  @if (loading()) {
    <p-progress-spinner ariaLabel="Loading products..." class="spinner"/>
  } @else if (error()) {
    <app-error-banner [visible]="error()" message="Can't load the products.">
      <p-button label="Retry" icon="pi pi-undo" iconPos="left" (click)="loadProducts()"></p-button>
    </app-error-banner>
  } @else {
    <app-table [products]="products()"/>
  }
</main>

<app-footer/>


