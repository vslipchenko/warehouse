<app-toolbar/>

<main class="content">
  <app-headline [addProductButtonDisabled]="loading()" (addProduct)="openAddProductDialog()"/>
  <app-add-product-dialog [visible]="showAddProductDialog"/>
  <app-edit-product-dialog [visible]="showEditProductDialog"/>
  <app-delete-product-dialog [visible]="showDeleteProductDialog" [product]="productToDelete()"/>

  @if (loading()) {
    <p-progress-spinner ariaLabel="Loading products..." class="spinner"/>
  } @else if (error()) {
    <app-error-banner [visible]="true"
                      message="Can't load the products. Please retry loading the products or try again later.">
      <p-button label="Retry" icon="pi pi-undo" iconPos="left" (click)="loadProducts()"></p-button>
    </app-error-banner>
  } @else {
    <app-table [products]="products()" (editProduct)="openEditProductDialog()"
               (deleteProduct)="confirmDeletion($event)"/>
  }
</main>

<app-footer/>


